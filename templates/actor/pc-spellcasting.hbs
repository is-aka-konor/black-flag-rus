<blackFlag-inventory tab="spellcasting">
	<table>
		<thead>
			<tr class="filters">
				<th colspan="7">
					<blackFlag-filters tab="spellcasting">
						<label>{{localize "BF.Activation.Type.Action[one]"}} <blackFlag-filter filter="action"></label>
						<label>{{localize "BF.Activation.Type.BonusAction[one]"}} <blackFlag-filter filter="bonus"></label>
						<label>{{localize "BF.Activation.Type.Reaction[one]"}} <blackFlag-filter filter="reaction"></label>
						<label>{{localize "BF.Spell.Tag.Concentration.Label"}} <blackFlag-filter filter="concentration"></label>
						<label>{{localize "BF.Spell.Tag.Ritual.Label"}} <blackFlag-filter filter="ritual"></label>
					</blackFlag-filters>
				</th>
			</tr>
		</thead>
		{{#each sections.spellcasting as |section sectionId|}}
			<tbody data-section="{{sectionId}}">
				<tr>
					<td class="name">{{localize section.label}}</td>
					<td class="slots">
						<div class="layout">
							{{blackFlag-number section.ring.value}} / {{blackFlag-number section.ring.max}}
						</div>
					</td>
					<th class="casting" scope="col">{{localize "BF.Spell.Casting.Label"}}</th>
					<th class="range" scope="col">{{localize "BF.Range.Label"}}</th>
					<th class="target" scope="col">{{localize "BF.Target.Label[one]"}}</th>
					<th class="traits" scope="col">{{localize "BF.Trait.Label[other]"}}</th>
					<td class="controls">
						<div class="layout">
							{{#if @root.modes.editing}}
								<a data-action="add">
									<i class="fa-solid fa-plus"></i>
								</a>
							{{/if}}
						</div>
					</td>
				</tr>
				{{#each section.items as |spell|}}
					<tr data-item-id="{{spell.id}}"><!-- TODO: Data based on type, prepared state -->
						<th class="name" scope="row">
							<div class="layout">
								<figure>
									<img src="{{spell.img}}">
								</figure>
								<span>{{spell.name}}</span>
								{{blackFlag-notificationBadge actor document=spell}}
							</div>
						</th>
						<td class="components">
							<div class="layout">
								{{{spell.system.components.label}}}
								{{#if spell.system.uses.label}}
									<span class="uses">({{spell.system.uses.label}})</span>
								{{/if}}
							</div>
						</td>
						<td class="casting">
							{{{spell.system.casting.label}}}
						</td>
						<td class="range">
							{{{spell.system.range.label}}}
						</td>
						<td class="target">
							{{{spell.system.target.label}}}
						</td>
						<td class="traits">
							
						</td>
						<td class="controls">
							<div class="layout">
								{{#if @root.modes.editing}}
									<a data-action="edit">
										<i class="fa-solid fa-edit"></i>
									</a>
									<a data-action="delete">
										<i class="fa-solid fa-trash"></i>
									</a>
								{{else}}
									<a data-action="view">
										<i class="fa-regular fa-eye"></i>
									</a>
								{{/if}}
							</div>
						</td>
					</tr>
				{{/each}}
			</tbody>
		{{/each}}
		<tfoot>
			<!-- TODO: Preparation details and whatnot in footer -->
		</tfoot>
	</table>
</blackFlag-inventory>
