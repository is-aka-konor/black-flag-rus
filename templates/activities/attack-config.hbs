<form autocomplete="off">
	<header class="sheet-header">
		<figure class="icon">
			<img src="{{activity.img}}" data-edit="img">
		</figure>
		<h1>
			<input type="text" name="name" value="{{activity._source.name}}" placeholder="{{default.title}}">
		</h1>
	</header>

	<main class="sheet-body">
		<fieldset>
			<legend>Type</legend>
			<div class="field-group">
				<label>
					<span>Type</span>
					<select name="system.type.value">
						{{selectOptions CONFIG.weaponTypes selected=source.type.value blank=labels.defaultType
							labelAttr="label" localize=true}}
					</select>
				</label>
				<label>
					<span>{{localize "BF.Attack.Classification.Label"}}</span>
					<select name="system.type.classification">
						{{selectOptions CONFIG.attackTypes selected=source.type.classification blank=labels.defaultClassification
							localize=true}}
					</select>
				</label>
			</div>
		</fieldset>

		<fieldset>
			<legend>{{localize "BF.Damage.Label"}}</legend>
			<label class="full-checkbox">
				<span>
					{{localize "BF.Activity.Damage.IncludeBaseDamage.Label"}}
					<i class="hintIcon" data-tooltip="BF.Activity.Damage.IncludeBaseDamage.Hint"></i>
				</span>
				<input type="checkbox" name="system.damage.includeBaseDamage" {{checked system.damage.includeBaseDamage}}>
			</label>
			<ul class="item-list damages-list">
				{{#each source.damage.parts}}
					<li class="item" data-index="{{@index}}">
						<div class="damage field-group">
							<label class="die-count">
								<span>{{localize "BF.Die.Number.Label"}}</span>
								<input type="number" name="system.damage.parts.{{@index}}.number" step=1 min=1 value="{{this.number}}">
							</label>
							<label class="die-denomination">
								<span>{{localize "BF.Die.Denomination.Label"}}</span>
								<select name="system.damage.parts.{{@index}}.denomination">
									{{selectOptions @root.CONFIG.dieSteps.labeled selected=this.denomination blank=""}}
								</select>
							</label>
							<label>
								<span>{{localize "BF.Damage.Type.Label"}}</span>
								<select name="system.damage.parts.{{@index}}.type">
									{{selectOptions @root.CONFIG.damageTypes selected=this.type
										labelAttr="label" localize=true sort=true blank=""}}
								</select>
							</label>
						</div>
						<div class="item-controls damage-controls">
							<a data-action="damage" data-sub-action="delete">
								<i class="fa-solid fa-trash"></i>
							</a>
						</div>
					</li>
				{{/each}}
				<li class="item add-control">
					<a data-action="damage" data-sub-action="add">
					 <i class="fa-solid fa-plus"></i> {{localize "BF.Activity.Damage.Action.Add"}}
					</a>
				</li>
			</ul>
		</fieldset>

		{{!-- TODO: Overrides & Bonuses --}}
	</main>
</form>
