<fieldset class="targeting">
	<legend>{{ localize "BF.Targeting.Label" }}</legend>
	{{#if system.target.canOverride}}
		<label class="full-checkbox">
			<span>{{ localize "BF.Target.Override.Label" }}</span>
			<input type="checkbox" name="{{ prefix }}target.override" {{ checked system.target.override }}>
		</label>
	{{/if}}
	<div class="range field-group">
		<span>{{ localize "BF.Range.Label" }}</span>
		{{#if system.range.scalar}}
			<label>
				<span>{{ localize "BF.Range.Value.Label" }}</span>
				<input type="text" name="{{ prefix }}range.value" value="{{ range.data.value }}">
			</label>
		{{/if}}
		<label>
			<span>{{ localize "BF.Range.Unit.Label" }}</span>
			<select name="{{ prefix }}range.units">
				{{#select range.data.units}}
					<option value=""></option>
					<hr>
					{{ selectOptions CONFIG.rangeTypes labelAttr="label" localize=true }}
					<optgroup label="{{ localize 'BF.Distance.Label' }}">
						{{ selectOptions CONFIG.distanceUnits.localized }}
					</optgroup>
				{{/select}}
			</select>
		</label>
	</div>
	{{#if system.range.units}}
		<label>
			<span>{{ localize "BF.Range.Special.Label" }}</span>
			<input type="text" name="{{ prefix }}range.special" value="{{ range.data.special }}">
		</label>
	{{/if}}

	<hr>

	<div class="field-group">
		<span>{{ localize "BF.Target.Label[one]" }}</span>
		{{#if system.target.affects.scalar}}
			<label>
				<span>{{ localize "BF.TARGET.FIELDS.affects.count.label" }}</span>
				<input type="text" name="{{ prefix }}target.affects.count" value="{{ target.data.affects.count }}"
							 placeholder="{{ system.target.affects.placeholder }}">
			</label>
		{{/if}}
		<label>
			<span>{{ localize "BF.TARGET.FIELDS.affects.type.label" }}</span>
			<select name="{{ prefix }}target.affects.type">
				{{ selectOptions CONFIG.targetTypes.localized selected=target.data.affects.type blank="" }}
			</select>
		</label>
	</div>
	{{#if system.target.affects.type}}
		<label>
			<span>{{ localize "BF.TARGET.FIELDS.affects.special.label" }}</span>
			<input type="text" name="{{ prefix }}target.affects.special" value="{{ target.data.affects.special }}">
		</label>
	{{/if}}
	{{#if (and system.target.affects.type target.data.template.type)}}
		<label class="full-checkbox">
			<span class="hinted-label" data-tooltip="BF.TARGET.FIELDS.affects.choice.hint">
				{{ localize "BF.TARGET.FIELDS.affects.choice.label" }}
			</span>
			<input type="checkbox" name="{{ prefix }}target.affects.choice" {{ checked target.data.affects.choice }}>
		</label>
	{{/if}}

	<hr>

	<div class="field-group">
		<span>{{ localize "BF.TARGET.FIELDS.template.label" }}</span>
		{{#if target.data.template.type}}
			<label>
				<span>{{ localize "BF.TARGET.FIELDS.template.count.label" }}</span>
				<input type="number" name="{{ prefix }}target.template.count" value="{{ target.data.template.count }}"
				       min="1" step="1" placeholder="1">
			</label>
		{{/if}}
		<label>
			<span>{{ localize "BF.TARGET.FIELDS.template.type.label" }}</span>
			<select name="{{ prefix }}target.template.type">
				{{ selectOptions CONFIG.areaOfEffectTypes.localized selected=target.data.template.type blank="" }}
			</select>
		</label>
	</div>
	{{#with system.target.aoeSizes as |aoeSizes|}}
		<div class="field-group">
			<span>{{ localize "BF.TARGET.FIELDS.template.size.label" }}</span>
			<label>
				<span>{{ localize aoeSizes.size }}</span>
				<input type="text" name="{{ ../prefix }}target.template.size" value="{{ ../target.data.template.size }}">
			</label>
			{{#if aoeSizes.width}}
				<label>
					<span>{{ localize aoeSizes.width }}</span>
					<input type="text" name="{{ ../prefix }}target.template.width" value="{{ ../target.data.template.width }}">
				</label>
			{{/if}}
			{{#if aoeSizes.height}}
				<label>
					<span>{{ localize aoeSizes.height }}</span>
					<input type="text" name="{{ ../prefix }}target.template.height" value="{{ ../target.data.template.height }}">
				</label>
			{{/if}}
			<label>
				<span>{{ localize "BF.TARGET.FIELDS.template.units.label" }}</span>
				<select name="{{ prefix }}target.template.units">
					{{ selectOptions ../CONFIG.distanceUnits.localized selected=../target.data.template.units }}
				</select>
			</label>
		</div>
	{{/with}}
	{{#if (and target.data.template.type (gt target.data.template.count 1))}}
		<label class="full-checkbox">
			<span class="hinted-label" data-tooltip="BF.TARGET.FIELDS.template.contiguous.hint">
				{{ localize "BF.TARGET.FIELDS.template.contiguous.label" }}
			</span>
			<input type="checkbox" name="{{ prefix }}target.template.contiguous"
			       {{ checked target.data.template.contiguous }}>
		</label>
	{{/if}}
</fieldset>
